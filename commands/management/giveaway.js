const a62_0x305e=['client','../../utils/omnic','join','BASTION_ERROR_TYPE','../../utils/constants','GIVEAWAY!','GIVEAWAYS','It\x20allows\x20you\x20to\x20run\x20giveaway\x20events\x20in\x20the\x20server\x20for\x20at\x20least\x20an\x20hour\x20and\x20at\x20most\x20a\x20month.\x20You\x20can\x20set\x20any\x20number\x20of\x20winners\x20for\x20the\x20event.\x20And\x20it\x20also\x20allows\x20you\x20to\x20reroll\x20the\x20winners,\x20if\x20need\x20be,\x20after\x20the\x20end\x20of\x20the\x20event.','test','@bastion/tesseract','membershipLimitGiveaways','IRIS','defaultTimeout','catch','channel','Command','name','timeout','defaultWinners','locale','user','length','guild','giveaway\x20--timeout\x20HOURS\x20--\x20ITEM','MAX_SAFE_INTEGER','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','LIMITED_PREMIUM_MEMBERSHIP','getString','Constants','isPublicBastion','premiumGiveaways','floor','default','premiumGiveawayTimeout','../../utils/errors','winners','LIMITS','constructor','PremiumTier','number','create','exports','send','reactions','PREMIUM_MEMBERSHIP_REQUIRED','errors','language','react','DiscordError','React\x20to\x20this\x20message\x20with\x20','countDocuments','MANAGE_CHANNELS','\x20or\x20','document','return\x20/\x22\x20+\x20this\x20+\x20\x22/','clamp','GOLD','membershipLimitGiveawayTimeout','INVALID_COMMAND_SYNTAX','\x20to\x20participate\x20in\x20the\x20giveaway\x20for\x20a\x20chance\x20to\x20win.','PLATINUM','now','apply','GIVEAWAY_TIMEOUT'];(function(_0x1c5bf7,_0x305ebf){const _0x15f327=function(_0x5af54d){while(--_0x5af54d){_0x1c5bf7['push'](_0x1c5bf7['shift']());}},_0x40c924=function(){const _0x53d544={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x463420,_0x35aa54,_0xa5f92e,_0x19cea2){_0x19cea2=_0x19cea2||{};let _0x1ac719=_0x35aa54+'='+_0xa5f92e,_0xecc204=0x0;for(let _0x119a32=0x0,_0x308cdb=_0x463420['length'];_0x119a32<_0x308cdb;_0x119a32++){const _0x4547e5=_0x463420[_0x119a32];_0x1ac719+=';\x20'+_0x4547e5;const _0x3d0bb3=_0x463420[_0x4547e5];_0x463420['push'](_0x3d0bb3),_0x308cdb=_0x463420['length'],_0x3d0bb3!==!![]&&(_0x1ac719+='='+_0x3d0bb3);}_0x19cea2['cookie']=_0x1ac719;},'removeCookie':function(){return'dev';},'getCookie':function(_0x22105d,_0x597782){_0x22105d=_0x22105d||function(_0x5e224a){return _0x5e224a;};const _0x21833a=_0x22105d(new RegExp('(?:^|;\x20)'+_0x597782['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2e549a=function(_0x1a0d24,_0x8c07a9){_0x1a0d24(++_0x8c07a9);};return _0x2e549a(_0x15f327,_0x305ebf),_0x21833a?decodeURIComponent(_0x21833a[0x1]):undefined;}},_0x348494=function(){const _0x259d2d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x259d2d['test'](_0x53d544['removeCookie']['toString']());};_0x53d544['updateCookie']=_0x348494;let _0x56927a='';const _0x4c47f9=_0x53d544['updateCookie']();if(!_0x4c47f9)_0x53d544['setCookie'](['*'],'counter',0x1);else _0x4c47f9?_0x56927a=_0x53d544['getCookie'](null,'counter'):_0x53d544['removeCookie']();};_0x40c924();}(a62_0x305e,0xdb));const a62_0x15f3=function(_0x1c5bf7,_0x305ebf){_0x1c5bf7=_0x1c5bf7-0x0;let _0x15f327=a62_0x305e[_0x1c5bf7];return _0x15f327;};const a62_0xa5f92e=function(){let _0x4678fb=!![];return function(_0x5c419,_0x5b31bf){const _0x4d6530=_0x4678fb?function(){if(_0x5b31bf){const _0x382e70=_0x5b31bf[a62_0x15f3('0x23')](_0x5c419,arguments);return _0x5b31bf=null,_0x382e70;}}:function(){};return _0x4678fb=![],_0x4d6530;};}(),a62_0x35aa54=a62_0xa5f92e(this,function(){const _0xc640c2=function(){const _0x4fd682=_0xc640c2[a62_0x15f3('0xa')](a62_0x15f3('0x1b'))()[a62_0x15f3('0xa')](a62_0x15f3('0x3e'));return!_0x4fd682[a62_0x15f3('0x2d')](a62_0x35aa54);};return _0xc640c2();});a62_0x35aa54();'use strict';const tesseract_1=require(a62_0x15f3('0x2e')),Giveaway_1=require('../../models/Giveaway'),constants=require(a62_0x15f3('0x29')),errors=require(a62_0x15f3('0x7')),numbers=require('../../utils/numbers'),omnic=require(a62_0x15f3('0x26'));module[a62_0x15f3('0xe')]=class GiveawayCommand extends tesseract_1[a62_0x15f3('0x34')]{constructor(){super('giveaway',{'description':a62_0x15f3('0x2c'),'triggers':[],'arguments':{'alias':{'timeout':['t'],'winners':['w']},'number':[a62_0x15f3('0x36'),a62_0x15f3('0x8')],'coerce':{'timeout':_0x3f882a=>typeof _0x3f882a===a62_0x15f3('0xc')&&numbers[a62_0x15f3('0x1c')](_0x3f882a,0x1,0x2d0),'winners':_0x2b7b96=>typeof _0x2b7b96==='number'&&Math[a62_0x15f3('0x4')](numbers['clamp'](_0x2b7b96,0x1,Number[a62_0x15f3('0x3d')]))},'default':{'timeout':0x3,'winners':0x1}},'scope':a62_0x15f3('0x3b'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a62_0x15f3('0x18')],'syntax':['giveaway\x20--\x20ITEM','giveaway\x20--winners\x20NUMBER\x20--\x20ITEM',a62_0x15f3('0x3c')]}),this['exec']=async(_0x26b22d,_0x5ca542)=>{if(!_0x5ca542['_'][a62_0x15f3('0x3a')])throw new errors[(a62_0x15f3('0x15'))](errors[a62_0x15f3('0x28')][a62_0x15f3('0x1f')],this[a62_0x15f3('0x35')]);const _0x256b4e=_0x5ca542['_'][a62_0x15f3('0x27')]('\x20'),_0x326465=_0x5ca542[a62_0x15f3('0x36')]?_0x5ca542['timeout']:this['defaultTimeout'],_0x60cb1a=_0x5ca542[a62_0x15f3('0x8')]?_0x5ca542[a62_0x15f3('0x8')]:this['defaultWinners'];if(constants[a62_0x15f3('0x2')](this[a62_0x15f3('0x25')][a62_0x15f3('0x39')])){const _0x4c84f7=await omnic['fetchPremiumTier'](_0x26b22d[a62_0x15f3('0x3b')])['catch'](()=>{});if(_0x4c84f7){if(_0x4c84f7===omnic['PremiumTier']['GOLD']&&_0x326465>constants[a62_0x15f3('0x9')]['GOLD'][a62_0x15f3('0x24')])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a62_0x15f3('0x3f')],this[a62_0x15f3('0x25')][a62_0x15f3('0x38')][a62_0x15f3('0x0')](_0x26b22d[a62_0x15f3('0x3b')]['document'][a62_0x15f3('0x13')],'errors',a62_0x15f3('0x1e'),constants['LIMITS'][a62_0x15f3('0x1d')][a62_0x15f3('0x24')]));else{if(_0x4c84f7===omnic[a62_0x15f3('0xb')][a62_0x15f3('0x21')]&&_0x326465>constants[a62_0x15f3('0x9')][a62_0x15f3('0x21')][a62_0x15f3('0x24')])throw new errors['DiscordError'](errors[a62_0x15f3('0x28')][a62_0x15f3('0x3f')],this[a62_0x15f3('0x25')][a62_0x15f3('0x38')]['getString'](_0x26b22d[a62_0x15f3('0x3b')][a62_0x15f3('0x1a')][a62_0x15f3('0x13')],a62_0x15f3('0x12'),a62_0x15f3('0x1e'),constants[a62_0x15f3('0x9')][a62_0x15f3('0x21')]['GIVEAWAY_TIMEOUT']));}}else{if(_0x326465>constants[a62_0x15f3('0x9')][a62_0x15f3('0x24')])throw new errors[(a62_0x15f3('0x15'))](errors[a62_0x15f3('0x28')][a62_0x15f3('0x11')],this[a62_0x15f3('0x25')][a62_0x15f3('0x38')]['getString'](_0x26b22d[a62_0x15f3('0x3b')][a62_0x15f3('0x1a')][a62_0x15f3('0x13')],'errors',a62_0x15f3('0x6'),constants[a62_0x15f3('0x9')][a62_0x15f3('0x24')]));}const _0x5c05f4=await Giveaway_1[a62_0x15f3('0x5')][a62_0x15f3('0x17')]({'guild':_0x26b22d[a62_0x15f3('0x3b')]['id'],'ends':{'$gte':new Date()}});if(_0x4c84f7){if(_0x4c84f7===omnic['PremiumTier'][a62_0x15f3('0x1d')]&&_0x5c05f4>=constants['LIMITS'][a62_0x15f3('0x1d')][a62_0x15f3('0x2b')])throw new errors['DiscordError'](errors['BASTION_ERROR_TYPE'][a62_0x15f3('0x3f')],this[a62_0x15f3('0x25')][a62_0x15f3('0x38')][a62_0x15f3('0x0')](_0x26b22d['guild'][a62_0x15f3('0x1a')]['language'],'errors',a62_0x15f3('0x2f'),constants[a62_0x15f3('0x9')][a62_0x15f3('0x1d')][a62_0x15f3('0x2b')]));else{if(_0x4c84f7===omnic[a62_0x15f3('0xb')][a62_0x15f3('0x21')]&&_0x5c05f4>=constants['LIMITS'][a62_0x15f3('0x21')][a62_0x15f3('0x2b')])throw new errors[(a62_0x15f3('0x15'))](errors[a62_0x15f3('0x28')][a62_0x15f3('0x3f')],this[a62_0x15f3('0x25')][a62_0x15f3('0x38')][a62_0x15f3('0x0')](_0x26b22d[a62_0x15f3('0x3b')][a62_0x15f3('0x1a')]['language'],'errors','membershipLimitGiveaways',constants[a62_0x15f3('0x9')][a62_0x15f3('0x21')]['GIVEAWAYS']));}}else{if(_0x5c05f4>=constants[a62_0x15f3('0x9')][a62_0x15f3('0x2b')])throw new errors[(a62_0x15f3('0x15'))](errors[a62_0x15f3('0x28')][a62_0x15f3('0x11')],this[a62_0x15f3('0x25')][a62_0x15f3('0x38')]['getString'](_0x26b22d[a62_0x15f3('0x3b')][a62_0x15f3('0x1a')][a62_0x15f3('0x13')],'errors',a62_0x15f3('0x3'),constants[a62_0x15f3('0x9')][a62_0x15f3('0x2b')]));}}const _0x5d5375=new Date(Date[a62_0x15f3('0x22')]()+_0x326465*0x36ee80),_0x172a8c=await _0x26b22d[a62_0x15f3('0x33')][a62_0x15f3('0xf')]({'embed':{'color':tesseract_1[a62_0x15f3('0x1')]['COLORS'][a62_0x15f3('0x30')],'author':{'name':a62_0x15f3('0x2a')},'title':_0x256b4e,'description':a62_0x15f3('0x16')+this[a62_0x15f3('0x10')]['join'](a62_0x15f3('0x19'))+a62_0x15f3('0x20'),'footer':{'text':_0x60cb1a+'\x20Winners\x20â€¢\x20Ends'},'timestamp':_0x5d5375}});await Giveaway_1['default'][a62_0x15f3('0xd')]({'_id':_0x172a8c['id'],'channel':_0x172a8c[a62_0x15f3('0x33')]['id'],'guild':_0x172a8c['guild']['id'],'winners':_0x60cb1a,'ends':_0x5d5375});for(const _0xa3cb46 of this[a62_0x15f3('0x10')]){await _0x172a8c[a62_0x15f3('0x14')](_0xa3cb46)[a62_0x15f3('0x32')](()=>{});}},this['reactions']=['ðŸŽŠ','ðŸŽ‰'],this[a62_0x15f3('0x31')]=0x3,this[a62_0x15f3('0x37')]=0x1;}};