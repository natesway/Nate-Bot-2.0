const a70_0x3f26=['countDocuments','value','resolver','DiscordError','NO_REACTION_ROLES','tag','length','../../models/Role','Command','MANAGE_ROLES','cache','fetchPremiumTier','url','role','COLORS','IRIS','catch','save','ROLE_NOT_FOUND','\x20Roles','default','REACTION_ROLES_PER_GROUP','errors','_id','Role\x20Emoji\x20Added','\x20/\x20[Jump\x20to\x20Reaction\x20Message](https://discord.com/channels/','send','join','Emoji','membershipLimitReactionRoleGroups','fetch','emoji','BASTION_ERROR_TYPE','emojis','channel','GOLD','client','constructor','resolveRoles','message','findByIdAndUpdate','LIMITED_PREMIUM_MEMBERSHIP','@bastion/tesseract','../../models/ReactionRoleGroup','PREMIUM_MEMBERSHIP_REQUIRED','Constants','GREEN','premiumReactionRoleGroups','get','exclusive','LIMITS','../../utils/constants','exec','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','deleteOne','reactionRolesGroupAdd','reactionRoles\x20--role\x20ROLE\x20--no-emoji','test','membershipLimitReactionRoleGroupRoles','messages','RED','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../utils/emojis','Role\x20Emoji','isPublicBastion','document','info','PLATINUM','reactionRoles\x20--message\x20ID\x20--role\x20ROLES...','locale','name','roleNotFound','../../utils/errors','premiumReactionRoleGroupRoles','exports','reactionRolesGroupRemove','PremiumTier','parseEmoji','REACTION_ROLE_GROUPS','reactionRoles','map','resolveRole','reaction','../../utils/omnic','react','reactionRoles\x20--message\x20ID\x20--delete','guild','delete','find','Reaction\x20Role\x20Groups','Role\x20Emoji\x20Removed','getString','\x20/\x20Exclusive','user','It\x20allows\x20you\x20to\x20create\x20(and\x20delete)\x20Reaction\x20Role\x20Groups.\x20A\x20Reaction\x20Role\x20Group\x20is\x20a\x20group\x20of\x20reactions\x20emojis\x20that\x20can\x20be\x20used\x20by\x20a\x20member\x20on\x20the\x20Reaction\x20Role\x20Message\x20to\x20add\x20(or\x20remove)\x20roles\x20to\x20themselves.\x20Reaction\x20Roles\x20in\x20a\x20single\x20group\x20can\x20also\x20be\x20set\x20as\x20mutually\x20exclusive.\x20It\x20also\x20allows\x20you\x20to\x20assign\x20emojis\x20to\x20roles,\x20that\x20can\x20be\x20used\x20in\x20reacting\x20to\x20the\x20Reaction\x20Role\x20Message.','language','apply'];(function(_0xed899d,_0x3f26b7){const _0x51d6b9=function(_0xd895d){while(--_0xd895d){_0xed899d['push'](_0xed899d['shift']());}},_0x93e8f4=function(){const _0x1715e6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x52a76c,_0x339569,_0x13ebc2,_0x1941cb){_0x1941cb=_0x1941cb||{};let _0x1ef460=_0x339569+'='+_0x13ebc2,_0x16a23c=0x0;for(let _0x3095eb=0x0,_0xc53c81=_0x52a76c['length'];_0x3095eb<_0xc53c81;_0x3095eb++){const _0xde4417=_0x52a76c[_0x3095eb];_0x1ef460+=';\x20'+_0xde4417;const _0x1aeced=_0x52a76c[_0xde4417];_0x52a76c['push'](_0x1aeced),_0xc53c81=_0x52a76c['length'],_0x1aeced!==!![]&&(_0x1ef460+='='+_0x1aeced);}_0x1941cb['cookie']=_0x1ef460;},'removeCookie':function(){return'dev';},'getCookie':function(_0x63cd0b,_0x3aec22){_0x63cd0b=_0x63cd0b||function(_0x432c05){return _0x432c05;};const _0x4737b4=_0x63cd0b(new RegExp('(?:^|;\x20)'+_0x3aec22['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2ecfc3=function(_0x35dc52,_0x3ee67f){_0x35dc52(++_0x3ee67f);};return _0x2ecfc3(_0x51d6b9,_0x3f26b7),_0x4737b4?decodeURIComponent(_0x4737b4[0x1]):undefined;}},_0x4ec7ff=function(){const _0x1b728f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1b728f['test'](_0x1715e6['removeCookie']['toString']());};_0x1715e6['updateCookie']=_0x4ec7ff;let _0x1b32a4='';const _0x4399b9=_0x1715e6['updateCookie']();if(!_0x4399b9)_0x1715e6['setCookie'](['*'],'counter',0x1);else _0x4399b9?_0x1b32a4=_0x1715e6['getCookie'](null,'counter'):_0x1715e6['removeCookie']();};_0x93e8f4();}(a70_0x3f26,0xa2));const a70_0x51d6=function(_0xed899d,_0x3f26b7){_0xed899d=_0xed899d-0x0;let _0x51d6b9=a70_0x3f26[_0xed899d];return _0x51d6b9;};const a70_0x13ebc2=function(){let _0x5a5fa7=!![];return function(_0xa68d64,_0x59765c){const _0x515844=_0x5a5fa7?function(){if(_0x59765c){const _0x252a14=_0x59765c[a70_0x51d6('0x1f')](_0xa68d64,arguments);return _0x59765c=null,_0x252a14;}}:function(){};return _0x5a5fa7=![],_0x515844;};}(),a70_0x339569=a70_0x13ebc2(this,function(){const _0x4e0369=function(){const _0x58f42e=_0x4e0369[a70_0x51d6('0x45')](a70_0x51d6('0x5d'))()[a70_0x51d6('0x45')](a70_0x51d6('0x55'));return!_0x58f42e[a70_0x51d6('0x59')](a70_0x339569);};return _0x4e0369();});a70_0x339569();'use strict';const tesseract_1=require(a70_0x51d6('0x4a')),Role_1=require(a70_0x51d6('0x27')),ReactionRoleGroup_1=require(a70_0x51d6('0x4b')),constants=require(a70_0x51d6('0x53')),emojis=require(a70_0x51d6('0x5e')),errors=require(a70_0x51d6('0x7')),omnic=require(a70_0x51d6('0x12'));module[a70_0x51d6('0x9')]=class ReactionRolesCommand extends tesseract_1[a70_0x51d6('0x28')]{constructor(){super(a70_0x51d6('0xe'),{'description':a70_0x51d6('0x1d'),'triggers':[],'arguments':{'array':[a70_0x51d6('0x2d')],'boolean':[a70_0x51d6('0x16'),a70_0x51d6('0x51')],'string':[a70_0x51d6('0x47'),'role',a70_0x51d6('0x3f')]},'scope':a70_0x51d6('0x15'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[a70_0x51d6('0x29')],'userPermissions':[a70_0x51d6('0x29')],'syntax':[a70_0x51d6('0xe'),'reactionRoles\x20--role\x20ROLE\x20--emoji\x20EMOJI',a70_0x51d6('0x58'),a70_0x51d6('0x3'),'reactionRoles\x20--message\x20ID\x20--role\x20ROLES...\x20--exclusive',a70_0x51d6('0x14')]}),this[a70_0x51d6('0x54')]=async(_0x35760b,_0x144a2b)=>{if(_0x144a2b[a70_0x51d6('0x47')]&&_0x144a2b['delete'])return await ReactionRoleGroup_1[a70_0x51d6('0x34')][a70_0x51d6('0x56')]({'_id':_0x144a2b[a70_0x51d6('0x47')]}),await _0x35760b[a70_0x51d6('0x42')]['send']({'embed':{'color':tesseract_1['Constants'][a70_0x51d6('0x2e')]['RED'],'description':this[a70_0x51d6('0x44')]['locale'][a70_0x51d6('0x1a')](_0x35760b['guild']['document'][a70_0x51d6('0x1e')],'info',a70_0x51d6('0xa'),_0x35760b['author'][a70_0x51d6('0x25')],_0x144a2b[a70_0x51d6('0x47')])}})[a70_0x51d6('0x30')](()=>{});if(_0x144a2b['message']&&_0x144a2b[a70_0x51d6('0x2d')]&&_0x144a2b[a70_0x51d6('0x2d')][a70_0x51d6('0x26')]){if(constants[a70_0x51d6('0x60')](this[a70_0x51d6('0x44')][a70_0x51d6('0x1c')])){const _0x29cd49=await omnic[a70_0x51d6('0x2b')](_0x35760b[a70_0x51d6('0x15')])[a70_0x51d6('0x30')](()=>{});if(_0x29cd49){if(_0x29cd49===omnic[a70_0x51d6('0xb')][a70_0x51d6('0x43')]&&_0x144a2b[a70_0x51d6('0x2d')][a70_0x51d6('0x26')]>constants['LIMITS'][a70_0x51d6('0x43')][a70_0x51d6('0x35')])throw new errors['DiscordError'](errors[a70_0x51d6('0x40')][a70_0x51d6('0x49')],this[a70_0x51d6('0x44')][a70_0x51d6('0x4')][a70_0x51d6('0x1a')](_0x35760b[a70_0x51d6('0x15')][a70_0x51d6('0x0')][a70_0x51d6('0x1e')],'errors',a70_0x51d6('0x5a'),constants['LIMITS']['GOLD'][a70_0x51d6('0x35')]));else{if(_0x29cd49===omnic[a70_0x51d6('0xb')][a70_0x51d6('0x2')]&&_0x144a2b[a70_0x51d6('0x2d')]['length']>constants[a70_0x51d6('0x52')]['PLATINUM'][a70_0x51d6('0x35')])throw new errors[(a70_0x51d6('0x23'))](errors[a70_0x51d6('0x40')][a70_0x51d6('0x49')],this['client'][a70_0x51d6('0x4')][a70_0x51d6('0x1a')](_0x35760b[a70_0x51d6('0x15')]['document']['language'],a70_0x51d6('0x36'),a70_0x51d6('0x5a'),constants[a70_0x51d6('0x52')][a70_0x51d6('0x2')][a70_0x51d6('0x35')]));}}else{if(_0x144a2b['role']['length']>constants[a70_0x51d6('0x52')][a70_0x51d6('0x35')])throw new errors[(a70_0x51d6('0x23'))](errors[a70_0x51d6('0x40')][a70_0x51d6('0x4c')],this['client']['locale']['getString'](_0x35760b[a70_0x51d6('0x15')][a70_0x51d6('0x0')][a70_0x51d6('0x1e')],a70_0x51d6('0x36'),a70_0x51d6('0x8'),constants['LIMITS'][a70_0x51d6('0x35')]));}const _0x259af3=await ReactionRoleGroup_1[a70_0x51d6('0x34')][a70_0x51d6('0x20')]({'guild':_0x35760b[a70_0x51d6('0x15')]['id']});if(_0x29cd49){if(_0x29cd49===omnic[a70_0x51d6('0xb')][a70_0x51d6('0x43')]&&_0x259af3>=constants[a70_0x51d6('0x52')]['GOLD'][a70_0x51d6('0xd')])throw new errors[(a70_0x51d6('0x23'))](errors['BASTION_ERROR_TYPE']['LIMITED_PREMIUM_MEMBERSHIP'],this[a70_0x51d6('0x44')][a70_0x51d6('0x4')][a70_0x51d6('0x1a')](_0x35760b[a70_0x51d6('0x15')][a70_0x51d6('0x0')][a70_0x51d6('0x1e')],a70_0x51d6('0x36'),a70_0x51d6('0x3d'),constants['LIMITS'][a70_0x51d6('0x43')][a70_0x51d6('0xd')]));else{if(_0x29cd49===omnic[a70_0x51d6('0xb')][a70_0x51d6('0x2')]&&_0x259af3>=constants[a70_0x51d6('0x52')][a70_0x51d6('0x2')][a70_0x51d6('0xd')])throw new errors[(a70_0x51d6('0x23'))](errors[a70_0x51d6('0x40')][a70_0x51d6('0x49')],this['client'][a70_0x51d6('0x4')]['getString'](_0x35760b[a70_0x51d6('0x15')][a70_0x51d6('0x0')][a70_0x51d6('0x1e')],a70_0x51d6('0x36'),a70_0x51d6('0x3d'),constants['LIMITS'][a70_0x51d6('0x2')][a70_0x51d6('0xd')]));}}else{if(_0x259af3>=constants['LIMITS'][a70_0x51d6('0xd')])throw new errors[(a70_0x51d6('0x23'))](errors[a70_0x51d6('0x40')][a70_0x51d6('0x4c')],this[a70_0x51d6('0x44')]['locale'][a70_0x51d6('0x1a')](_0x35760b[a70_0x51d6('0x15')][a70_0x51d6('0x0')][a70_0x51d6('0x1e')],a70_0x51d6('0x36'),a70_0x51d6('0x4f'),constants['LIMITS'][a70_0x51d6('0xd')]));}}const _0x5ce04c=await _0x35760b[a70_0x51d6('0x42')][a70_0x51d6('0x5b')][a70_0x51d6('0x3e')](_0x144a2b[a70_0x51d6('0x47')],![])['catch'](()=>{});if(!_0x5ce04c)throw new Error('MESSAGE_NOT_FOUND');const _0x2b5baf=this[a70_0x51d6('0x44')][a70_0x51d6('0x22')][a70_0x51d6('0x46')](_0x35760b[a70_0x51d6('0x15')],_0x144a2b['role']);if(!_0x2b5baf[a70_0x51d6('0x26')])throw new errors[(a70_0x51d6('0x23'))](errors['BASTION_ERROR_TYPE'][a70_0x51d6('0x32')],this[a70_0x51d6('0x44')][a70_0x51d6('0x4')]['getString'](_0x35760b[a70_0x51d6('0x15')]['document'][a70_0x51d6('0x1e')],a70_0x51d6('0x36'),a70_0x51d6('0x6')));await ReactionRoleGroup_1[a70_0x51d6('0x34')][a70_0x51d6('0x48')](_0x5ce04c['id'],{'_id':_0x5ce04c['id'],'channel':_0x35760b[a70_0x51d6('0x42')]['id'],'guild':_0x35760b[a70_0x51d6('0x15')]['id'],'roles':_0x2b5baf[a70_0x51d6('0xf')](_0x451589=>_0x451589['id']),'exclusive':_0x144a2b[a70_0x51d6('0x51')]?_0x144a2b[a70_0x51d6('0x51')]:undefined},{'upsert':!![]}),await _0x35760b[a70_0x51d6('0x42')][a70_0x51d6('0x3a')]({'embed':{'color':tesseract_1['Constants'][a70_0x51d6('0x2e')][a70_0x51d6('0x4e')],'description':this[a70_0x51d6('0x44')][a70_0x51d6('0x4')][a70_0x51d6('0x1a')](_0x35760b[a70_0x51d6('0x15')]['document'][a70_0x51d6('0x1e')],a70_0x51d6('0x1'),a70_0x51d6('0x57'),_0x35760b['author'][a70_0x51d6('0x25')],_0x5ce04c[a70_0x51d6('0x2c')])}})['catch'](()=>{});const _0xbfc5d3=await Role_1['default'][a70_0x51d6('0x17')]({'$or':_0x2b5baf[a70_0x51d6('0xf')](_0x24bd9d=>({'_id':_0x24bd9d['id']})),'guild':_0x35760b['guild']['id'],'emoji':{'$exists':!![]}});if(_0xbfc5d3&&_0xbfc5d3[a70_0x51d6('0x26')])for(const _0x14a2f8 of _0xbfc5d3){const _0x2808b2=emojis[a70_0x51d6('0xc')](_0x14a2f8['emoji']);await _0x5ce04c[a70_0x51d6('0x13')](_0x2808b2['reaction']);}return;}if(_0x144a2b[a70_0x51d6('0x2d')]){const _0x5ef26b=_0x144a2b[a70_0x51d6('0x2d')]?_0x144a2b['role'][a70_0x51d6('0x3b')]('\x20'):'',_0x32e42b=this['client'][a70_0x51d6('0x22')][a70_0x51d6('0x10')](_0x35760b[a70_0x51d6('0x15')],_0x5ef26b);if(!_0x32e42b)throw new errors[(a70_0x51d6('0x23'))](errors[a70_0x51d6('0x40')][a70_0x51d6('0x32')],this[a70_0x51d6('0x44')][a70_0x51d6('0x4')][a70_0x51d6('0x1a')](_0x35760b[a70_0x51d6('0x15')]['document'][a70_0x51d6('0x1e')],'errors',a70_0x51d6('0x6')));let _0x3cb2da=await _0x32e42b['fetchDocument']();!_0x3cb2da&&_0x144a2b[a70_0x51d6('0x3f')]&&(_0x3cb2da=await _0x32e42b['createDocument']());if(_0x144a2b[a70_0x51d6('0x3f')]){const _0x5f02c9=emojis['parseEmoji'](_0x144a2b[a70_0x51d6('0x3f')]);_0x3cb2da['emoji']=_0x5f02c9[a70_0x51d6('0x21')],await _0x3cb2da[a70_0x51d6('0x31')]();}else _0x3cb2da&&_0x144a2b[a70_0x51d6('0x3f')]===![]&&(_0x3cb2da[a70_0x51d6('0x3f')]=undefined,await _0x3cb2da[a70_0x51d6('0x31')]());const _0x68ea=_0x3cb2da?emojis[a70_0x51d6('0xc')](_0x3cb2da[a70_0x51d6('0x3f')]):undefined;return await _0x35760b['channel'][a70_0x51d6('0x3a')]({'embed':{'color':_0x144a2b['emoji']?tesseract_1[a70_0x51d6('0x4d')][a70_0x51d6('0x2e')][a70_0x51d6('0x4e')]:_0x144a2b[a70_0x51d6('0x3f')]===![]?tesseract_1['Constants']['COLORS'][a70_0x51d6('0x5c')]:tesseract_1[a70_0x51d6('0x4d')][a70_0x51d6('0x2e')][a70_0x51d6('0x2f')],'title':_0x144a2b[a70_0x51d6('0x3f')]?a70_0x51d6('0x38'):_0x144a2b[a70_0x51d6('0x3f')]===![]?a70_0x51d6('0x19'):a70_0x51d6('0x5f'),'fields':[{'name':'Role','value':_0x32e42b[a70_0x51d6('0x5')]||'-','inline':!![]},{'name':a70_0x51d6('0x3c'),'value':_0x68ea?_0x68ea[a70_0x51d6('0x11')]===_0x68ea[a70_0x51d6('0x21')]?_0x35760b[a70_0x51d6('0x15')][a70_0x51d6('0x41')][a70_0x51d6('0x2a')][a70_0x51d6('0x50')](_0x68ea['reaction'])||_0x68ea[a70_0x51d6('0x21')]:_0x68ea[a70_0x51d6('0x11')]:'-','inline':!![]}]}})[a70_0x51d6('0x30')](()=>{});}const _0x1e312a=await ReactionRoleGroup_1['default'][a70_0x51d6('0x17')]({});if(!_0x1e312a)throw new Error(a70_0x51d6('0x24'));await _0x35760b['channel'][a70_0x51d6('0x3a')]({'embed':{'title':a70_0x51d6('0x18'),'fields':_0x1e312a[a70_0x51d6('0xf')](_0x597b1f=>({'name':_0x597b1f['_id'],'value':_0x597b1f['roles'][a70_0x51d6('0x26')]+a70_0x51d6('0x33')+(_0x597b1f[a70_0x51d6('0x51')]?a70_0x51d6('0x1b'):'')+a70_0x51d6('0x39')+_0x597b1f['guild']+'/'+_0x597b1f[a70_0x51d6('0x42')]+'/'+_0x597b1f[a70_0x51d6('0x37')]+')'}))}})[a70_0x51d6('0x30')](()=>{});};}};