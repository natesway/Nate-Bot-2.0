const a111_0x52aa=['currentLevel','channel','balance','It\x20allows\x20you\x20to\x20see\x20your\x20(or\x20any\x20of\x20the\x20server\x20member\x27s)\x20Bastion\x20Profile.','level','language','default','constructor','exec','isPublicBastion','guild','location','fetchBadges','profileNotFound','exports','catch','locale','json','../../utils/badges','length','test','client','badgeValue','karma','errors','\x20/\x20','../../models/User','Command','profile','multiplier','author','countDocuments','computeExperience','../../utils/constants','apply','findById','\x20-\x20','../../utils/progress','DEFAUL_LEVELUP_MULTIPLIER','Constants','join','emoji','About','nextLevel','user','Experience','color','findOne','Karma','resolveGuildMember','experience','author.discord.id','getConstant','getString','Progress\x20-\x20','Rank','memberNotFound','COLORS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','map','gamification','resolveBadges','tag','toDateString','member','Cake\x20Day','backdrop','Bastion\x20Profile','displayAvatarURL','document','Location'];(function(_0x132ae6,_0x52aa72){const _0x145d54=function(_0xfc85e0){while(--_0xfc85e0){_0x132ae6['push'](_0x132ae6['shift']());}},_0x4e1931=function(){const _0x31e940={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5906a2,_0x38c28b,_0xb8858b,_0x547a21){_0x547a21=_0x547a21||{};let _0x101569=_0x38c28b+'='+_0xb8858b,_0x4ab940=0x0;for(let _0x70ff1e=0x0,_0x310780=_0x5906a2['length'];_0x70ff1e<_0x310780;_0x70ff1e++){const _0x594d06=_0x5906a2[_0x70ff1e];_0x101569+=';\x20'+_0x594d06;const _0x39af1b=_0x5906a2[_0x594d06];_0x5906a2['push'](_0x39af1b),_0x310780=_0x5906a2['length'],_0x39af1b!==!![]&&(_0x101569+='='+_0x39af1b);}_0x547a21['cookie']=_0x101569;},'removeCookie':function(){return'dev';},'getCookie':function(_0x48333b,_0x4ddeb0){_0x48333b=_0x48333b||function(_0x3e7563){return _0x3e7563;};const _0x3afe4c=_0x48333b(new RegExp('(?:^|;\x20)'+_0x4ddeb0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x12ff7c=function(_0x536669,_0x3ed8c0){_0x536669(++_0x3ed8c0);};return _0x12ff7c(_0x145d54,_0x52aa72),_0x3afe4c?decodeURIComponent(_0x3afe4c[0x1]):undefined;}},_0x1b7f89=function(){const _0x3766bb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3766bb['test'](_0x31e940['removeCookie']['toString']());};_0x31e940['updateCookie']=_0x1b7f89;let _0x8ab6d='';const _0x5da79a=_0x31e940['updateCookie']();if(!_0x5da79a)_0x31e940['setCookie'](['*'],'counter',0x1);else _0x5da79a?_0x8ab6d=_0x31e940['getCookie'](null,'counter'):_0x31e940['removeCookie']();};_0x4e1931();}(a111_0x52aa,0xb4));const a111_0x145d=function(_0x132ae6,_0x52aa72){_0x132ae6=_0x132ae6-0x0;let _0x145d54=a111_0x52aa[_0x132ae6];return _0x145d54;};const a111_0xb8858b=function(){let _0x5c0b2d=!![];return function(_0x1860c7,_0x1b0d25){const _0x2f7bdf=_0x5c0b2d?function(){if(_0x1b0d25){const _0x14730b=_0x1b0d25[a111_0x145d('0x43')](_0x1860c7,arguments);return _0x1b0d25=null,_0x14730b;}}:function(){};return _0x5c0b2d=![],_0x2f7bdf;};}(),a111_0x38c28b=a111_0xb8858b(this,function(){const _0x2bf14e=function(){const _0xa709f1=_0x2bf14e['constructor'](a111_0x145d('0x14'))()[a111_0x145d('0x28')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0xa709f1[a111_0x145d('0x35')](a111_0x38c28b);};return _0x2bf14e();});a111_0x38c28b();'use strict';const tesseract_1=require('@bastion/tesseract'),Member_1=require('../../models/Member'),User_1=require(a111_0x145d('0x3b')),badges=require(a111_0x145d('0x33')),constants=require(a111_0x145d('0x42')),gamification=require('../../utils/gamification'),progress_1=require(a111_0x145d('0x46'));module[a111_0x145d('0x2f')]=class ProfileCommand extends tesseract_1[a111_0x145d('0x3c')]{constructor(){super(a111_0x145d('0x3d'),{'description':a111_0x145d('0x24'),'triggers':[],'arguments':{},'scope':a111_0x145d('0x2b'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[],'syntax':[a111_0x145d('0x3d'),'profile\x20USER']}),this[a111_0x145d('0x29')]=async(_0x278047,_0xc31b28)=>{const _0xf536b3=_0xc31b28['_'][a111_0x145d('0x34')]?_0xc31b28['_'][0x0]:_0x278047[a111_0x145d('0x3f')]['id'],_0x27a3f5=_0xf536b3===_0x278047[a111_0x145d('0x3f')]['id']?_0x278047[a111_0x145d('0x1a')]:this[a111_0x145d('0x36')]['resolver'][a111_0x145d('0xb')](_0x278047[a111_0x145d('0x2b')],_0xf536b3);if(!_0x27a3f5)throw new Error(this[a111_0x145d('0x36')][a111_0x145d('0x31')][a111_0x145d('0xf')](_0x278047[a111_0x145d('0x2b')][a111_0x145d('0x1f')][a111_0x145d('0x26')],a111_0x145d('0x39'),a111_0x145d('0x12')));const _0x445f29=_0xf536b3===_0x278047['author']['id']?_0x278047[a111_0x145d('0x3f')][a111_0x145d('0x1f')]:await User_1[a111_0x145d('0x27')][a111_0x145d('0x44')](_0xf536b3),_0x392b1c=_0xf536b3===_0x278047[a111_0x145d('0x3f')]['id']?_0x27a3f5['document']:await Member_1['default'][a111_0x145d('0x9')]({'user':_0xf536b3,'guild':_0x278047[a111_0x145d('0x2b')]['id']});if(!_0x445f29||!_0x392b1c)throw new Error(this['client'][a111_0x145d('0x31')][a111_0x145d('0xf')](_0x278047['guild'][a111_0x145d('0x1f')]['language'],a111_0x145d('0x39'),a111_0x145d('0x2e')));const _0x561af2=await Member_1['default']['find']({'guild':_0x278047[a111_0x145d('0x2b')]['id']},null,{'sort':{'level':-0x1,'experience':-0x1,'karma':-0x1,'balance':-0x1}})[a111_0x145d('0x40')]({'$or':[{'level':{'$gt':_0x392b1c['level']}},{'level':_0x392b1c[a111_0x145d('0x25')],'experience':{'$gt':_0x392b1c[a111_0x145d('0xc')]}},{'level':_0x392b1c[a111_0x145d('0x25')],'experience':_0x392b1c[a111_0x145d('0xc')],'karma':{'$gt':_0x392b1c[a111_0x145d('0x38')]}},{'level':_0x392b1c['level'],'experience':_0x392b1c[a111_0x145d('0xc')],'karma':_0x392b1c[a111_0x145d('0x38')],'balance':{'$gt':_0x392b1c['balance']}}]}),_0x3d2354={'currentLevel':gamification[a111_0x145d('0x41')](_0x392b1c[a111_0x145d('0x25')],_0x278047[a111_0x145d('0x2b')][a111_0x145d('0x1f')][a111_0x145d('0x16')]?_0x278047[a111_0x145d('0x2b')][a111_0x145d('0x1f')][a111_0x145d('0x16')][a111_0x145d('0x3e')]:gamification[a111_0x145d('0x0')]),'nextLevel':gamification[a111_0x145d('0x41')](_0x392b1c['level']+0x1,_0x278047['guild']['document'][a111_0x145d('0x16')]?_0x278047['guild'][a111_0x145d('0x1f')][a111_0x145d('0x16')][a111_0x145d('0x3e')]:gamification[a111_0x145d('0x0')])},_0x1623f5={'currentLevel':_0x392b1c['experience']-_0x3d2354[a111_0x145d('0x21')],'nextLevel':_0x3d2354['nextLevel']-_0x3d2354[a111_0x145d('0x21')]},_0xfd64ce=_0x1623f5[a111_0x145d('0x21')]/_0x1623f5['nextLevel']*0x64,_0x52631c=constants[a111_0x145d('0x2a')](this[a111_0x145d('0x36')][a111_0x145d('0x6')])&&await badges[a111_0x145d('0x2d')](_0x27a3f5['id'])['then'](_0x77a9de=>_0x77a9de[a111_0x145d('0x32')]())[a111_0x145d('0x30')](()=>{});_0x278047[a111_0x145d('0x22')]['send']({'embed':{'color':_0x445f29[a111_0x145d('0x8')]||tesseract_1[a111_0x145d('0x1')][a111_0x145d('0x13')]['IRIS'],'author':{'name':_0x27a3f5['user'][a111_0x145d('0x18')]},'title':a111_0x145d('0x1d'),'description':(_0x52631c&&a111_0x145d('0x37')in _0x52631c?badges[a111_0x145d('0x17')](_0x52631c[a111_0x145d('0x37')]):[])[a111_0x145d('0x15')](_0x4b5be0=>_0x4b5be0[a111_0x145d('0x3')])[a111_0x145d('0x2')]('\x20'),'fields':[{'name':a111_0x145d('0x4'),'value':_0x445f29['info']||'-'},{'name':a111_0x145d('0x11'),'value':_0x561af2+0x1,'inline':!![]},{'name':'Level','value':_0x392b1c[a111_0x145d('0x25')],'inline':!![]},{'name':a111_0x145d('0x7'),'value':_0x392b1c[a111_0x145d('0xc')],'inline':!![]},{'name':a111_0x145d('0xa'),'value':_0x392b1c['karma'],'inline':!![]},{'name':'Bastion\x20Coins','value':_0x392b1c[a111_0x145d('0x23')],'inline':!![]},{'name':a111_0x145d('0x10')+_0x1623f5[a111_0x145d('0x21')]+a111_0x145d('0x3a')+_0x1623f5[a111_0x145d('0x5')]+a111_0x145d('0x45')+Math['round'](_0xfd64ce)+'%','value':'`'+progress_1[a111_0x145d('0x27')](_0xfd64ce,0x23)+'`'},{'name':a111_0x145d('0x1b'),'value':_0x445f29['cakeDay']?_0x445f29['cakeDay'][a111_0x145d('0x19')]():'-','inline':!![]},{'name':a111_0x145d('0x20'),'value':_0x445f29[a111_0x145d('0x2c')]||'-','inline':!![]}],'thumbnail':{'url':_0x27a3f5['user'][a111_0x145d('0x1e')]({'dynamic':!![],'size':0x200})},'image':{'url':_0x445f29[a111_0x145d('0x1c')]},'footer':{'text':_0x27a3f5['id']===this[a111_0x145d('0x36')][a111_0x145d('0x31')][a111_0x145d('0xe')](a111_0x145d('0xd'))?'Oh,\x20hey!\x20Here\x27s\x20my\x20developer!':''}}})[a111_0x145d('0x30')](()=>{});};}};