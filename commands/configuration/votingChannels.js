const a40_0x3bdd=['../../models/TextChannel','\x20Voting\x20Channels','LIMITED_PREMIUM_MEMBERSHIP','client','BASTION_ERROR_TYPE','premiumVotingChannels','document','It\x20allows\x20you\x20to\x20set\x20(and\x20unset)\x20channels\x20as\x20Voting\x20Channels.\x20If\x20a\x20channel\x20is\x20set\x20as\x20a\x20Voting\x20Channel,\x20anything\x20sent\x20in\x20the\x20channel\x20will\x20be\x20set\x20up\x20for\x20everyone\x20to\x20vote.','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','@bastion/tesseract','VOTING_CHANNELS','cache','constructor','exec','channel','countDocuments','remove','guild','push','language','GOLD','GREEN','IRIS','../../utils/omnic','MANAGE_GUILD','getString','membershipLimitVotingChannels','isPublicBastion','LIMITS','RED','add','apply','../../utils/errors','votingChannels\x20--add','length','COLORS','catch','errors','get','Constants','votingChannels','channels','has','info','tag','_id','send','locale','PremiumTier','fetchPremiumTier','PLATINUM','votingChannelsRemove','exports','Command','user','DiscordError','find','default','findByIdAndUpdate'];(function(_0x3058e9,_0x3bddf7){const _0x5e2195=function(_0x2f0e5c){while(--_0x2f0e5c){_0x3058e9['push'](_0x3058e9['shift']());}},_0x541381=function(){const _0x4391f2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2a738a,_0xb495ce,_0x411384,_0x164265){_0x164265=_0x164265||{};let _0x427512=_0xb495ce+'='+_0x411384,_0x2d32cd=0x0;for(let _0x504ce3=0x0,_0x13b75d=_0x2a738a['length'];_0x504ce3<_0x13b75d;_0x504ce3++){const _0x2a0a7c=_0x2a738a[_0x504ce3];_0x427512+=';\x20'+_0x2a0a7c;const _0x5a2ce4=_0x2a738a[_0x2a0a7c];_0x2a738a['push'](_0x5a2ce4),_0x13b75d=_0x2a738a['length'],_0x5a2ce4!==!![]&&(_0x427512+='='+_0x5a2ce4);}_0x164265['cookie']=_0x427512;},'removeCookie':function(){return'dev';},'getCookie':function(_0xd45dc8,_0x2254fd){_0xd45dc8=_0xd45dc8||function(_0x39567d){return _0x39567d;};const _0x58627f=_0xd45dc8(new RegExp('(?:^|;\x20)'+_0x2254fd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x270d09=function(_0x3ec84b,_0x343a42){_0x3ec84b(++_0x343a42);};return _0x270d09(_0x5e2195,_0x3bddf7),_0x58627f?decodeURIComponent(_0x58627f[0x1]):undefined;}},_0x18e475=function(){const _0x3973b6=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3973b6['test'](_0x4391f2['removeCookie']['toString']());};_0x4391f2['updateCookie']=_0x18e475;let _0x2f811e='';const _0x5a2885=_0x4391f2['updateCookie']();if(!_0x5a2885)_0x4391f2['setCookie'](['*'],'counter',0x1);else _0x5a2885?_0x2f811e=_0x4391f2['getCookie'](null,'counter'):_0x4391f2['removeCookie']();};_0x541381();}(a40_0x3bdd,0x12f));const a40_0x5e21=function(_0x3058e9,_0x3bddf7){_0x3058e9=_0x3058e9-0x0;let _0x5e2195=a40_0x3bdd[_0x3058e9];return _0x5e2195;};const a40_0x411384=function(){let _0x476752=!![];return function(_0x321ce7,_0x1660a2){const _0x33201c=_0x476752?function(){if(_0x1660a2){const _0x2bfcb6=_0x1660a2[a40_0x5e21('0x17')](_0x321ce7,arguments);return _0x1660a2=null,_0x2bfcb6;}}:function(){};return _0x476752=![],_0x33201c;};}(),a40_0xb495ce=a40_0x411384(this,function(){const _0xb27232=function(){const _0x3460a7=_0xb27232[a40_0x5e21('0x4')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a40_0x5e21('0x4')](a40_0x5e21('0x0'));return!_0x3460a7['test'](a40_0xb495ce);};return _0xb27232();});a40_0xb495ce();'use strict';const tesseract_1=require(a40_0x5e21('0x1')),TextChannel_1=require(a40_0x5e21('0x33')),constants=require('../../utils/constants'),errors=require(a40_0x5e21('0x18')),omnic=require(a40_0x5e21('0xf'));module[a40_0x5e21('0x2c')]=class Announcements extends tesseract_1[a40_0x5e21('0x2d')]{constructor(){super(a40_0x5e21('0x20'),{'description':a40_0x5e21('0x3a'),'triggers':[],'arguments':{'alias':{'add':['a'],'remove':['r']},'boolean':[a40_0x5e21('0x16'),'remove']},'scope':a40_0x5e21('0x9'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':[a40_0x5e21('0x10')],'syntax':['votingChannels',a40_0x5e21('0x19'),'votingChannels\x20--remove']}),this[a40_0x5e21('0x5')]=async(_0x1ede6c,_0x43a6c1)=>{if(_0x43a6c1[a40_0x5e21('0x16')]){if(constants[a40_0x5e21('0x13')](this[a40_0x5e21('0x36')][a40_0x5e21('0x2e')])){const _0x26ed74=await TextChannel_1[a40_0x5e21('0x31')][a40_0x5e21('0x7')]({'guild':_0x1ede6c['guild']['id'],'voting':!![]});if(_0x26ed74>=constants[a40_0x5e21('0x14')][a40_0x5e21('0x2')]){const _0x13d41d=await omnic[a40_0x5e21('0x29')](_0x1ede6c[a40_0x5e21('0x9')])[a40_0x5e21('0x1c')](()=>{});if(_0x13d41d){if(_0x13d41d===omnic[a40_0x5e21('0x28')]['GOLD']&&_0x26ed74>=constants['LIMITS'][a40_0x5e21('0xc')][a40_0x5e21('0x2')])throw new errors[(a40_0x5e21('0x2f'))](errors['BASTION_ERROR_TYPE'][a40_0x5e21('0x35')],this[a40_0x5e21('0x36')]['locale']['getString'](_0x1ede6c[a40_0x5e21('0x9')][a40_0x5e21('0x39')][a40_0x5e21('0xb')],a40_0x5e21('0x1d'),'membershipLimitVotingChannels',constants[a40_0x5e21('0x14')][a40_0x5e21('0xc')]['VOTING_CHANNELS']));else{if(_0x13d41d===omnic[a40_0x5e21('0x28')]['PLATINUM']&&_0x26ed74>=constants['LIMITS']['PLATINUM'][a40_0x5e21('0x2')])throw new errors[(a40_0x5e21('0x2f'))](errors[a40_0x5e21('0x37')]['LIMITED_PREMIUM_MEMBERSHIP'],this[a40_0x5e21('0x36')][a40_0x5e21('0x27')][a40_0x5e21('0x11')](_0x1ede6c[a40_0x5e21('0x9')][a40_0x5e21('0x39')][a40_0x5e21('0xb')],a40_0x5e21('0x1d'),a40_0x5e21('0x12'),constants['LIMITS'][a40_0x5e21('0x2a')][a40_0x5e21('0x2')]));}}else throw new errors[(a40_0x5e21('0x2f'))](errors[a40_0x5e21('0x37')]['PREMIUM_MEMBERSHIP_REQUIRED'],this['client']['locale']['getString'](_0x1ede6c[a40_0x5e21('0x9')][a40_0x5e21('0x39')][a40_0x5e21('0xb')],a40_0x5e21('0x1d'),a40_0x5e21('0x38'),constants[a40_0x5e21('0x14')]['VOTING_CHANNELS']));}}return await TextChannel_1[a40_0x5e21('0x31')][a40_0x5e21('0x32')](_0x1ede6c['channel']['id'],{'_id':_0x1ede6c['channel']['id'],'guild':_0x1ede6c[a40_0x5e21('0x9')]['id'],'voting':!![]},{'upsert':!![]}),await _0x1ede6c['channel']['send']({'embed':{'color':tesseract_1[a40_0x5e21('0x1f')][a40_0x5e21('0x1b')][a40_0x5e21('0xd')],'description':this['client'][a40_0x5e21('0x27')][a40_0x5e21('0x11')](_0x1ede6c[a40_0x5e21('0x9')][a40_0x5e21('0x39')][a40_0x5e21('0xb')],'info','votingChannelsAdd',_0x1ede6c['author'][a40_0x5e21('0x24')])}})[a40_0x5e21('0x1c')](()=>{});}if(_0x43a6c1[a40_0x5e21('0x8')])return await TextChannel_1[a40_0x5e21('0x31')]['findByIdAndUpdate'](_0x1ede6c[a40_0x5e21('0x6')]['id'],{'_id':_0x1ede6c[a40_0x5e21('0x6')]['id'],'guild':_0x1ede6c[a40_0x5e21('0x9')]['id'],'$unset':{'voting':0x1}}),await _0x1ede6c['channel'][a40_0x5e21('0x26')]({'embed':{'color':tesseract_1['Constants'][a40_0x5e21('0x1b')][a40_0x5e21('0x15')],'description':this[a40_0x5e21('0x36')][a40_0x5e21('0x27')][a40_0x5e21('0x11')](_0x1ede6c[a40_0x5e21('0x9')][a40_0x5e21('0x39')][a40_0x5e21('0xb')],a40_0x5e21('0x23'),a40_0x5e21('0x2b'),_0x1ede6c['author']['tag'])}})[a40_0x5e21('0x1c')](()=>{});const _0x4c6229=await TextChannel_1[a40_0x5e21('0x31')][a40_0x5e21('0x30')]({'guild':_0x1ede6c[a40_0x5e21('0x9')]['id'],'voting':!![]}),_0x168e4c=[];for(const _0x35c1ff of _0x4c6229){_0x1ede6c[a40_0x5e21('0x9')]['channels'][a40_0x5e21('0x3')][a40_0x5e21('0x22')](_0x35c1ff['_id'])?_0x168e4c[a40_0x5e21('0xa')](_0x1ede6c[a40_0x5e21('0x9')][a40_0x5e21('0x21')][a40_0x5e21('0x3')][a40_0x5e21('0x1e')](_0x35c1ff[a40_0x5e21('0x25')])['name']+'\x20/\x20'+_0x35c1ff['_id']):await _0x35c1ff[a40_0x5e21('0x8')]()[a40_0x5e21('0x1c')](()=>{});}await _0x1ede6c['channel'][a40_0x5e21('0x26')]({'embed':{'color':tesseract_1['Constants'][a40_0x5e21('0x1b')][a40_0x5e21('0xe')],'title':'Voting\x20Channels','description':this[a40_0x5e21('0x36')][a40_0x5e21('0x27')][a40_0x5e21('0x11')](_0x1ede6c['guild'][a40_0x5e21('0x39')][a40_0x5e21('0xb')],a40_0x5e21('0x23'),'votingChannels'),'fields':[{'name':(_0x168e4c[a40_0x5e21('0x1a')]?_0x168e4c['length']:'No')+a40_0x5e21('0x34'),'value':_0x168e4c['join']('\x0a\x0a')||'-'}]}})['catch'](()=>{});};}};