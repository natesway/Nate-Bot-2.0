const a38_0x623d=['../../utils/emojis','map','DiscordError','author','It\x20allows\x20you\x20to\x20add\x20(and\x20remove)\x20Triggers\x20in\x20the\x20server.\x20When\x20a\x20trigger\x20is\x20set,\x20and\x20Bastion\x20sees\x20a\x20message\x20from\x20a\x20human\x20containing\x20the\x20pattern\x20specified\x20in\x20the\x20trigger,\x20it\x27ll\x20respond\x20with\x20either\x20the\x20specified\x20response\x20message\x20or\x20reaction,\x20or\x20both.','getString','locale','trigger','triggersClear','responseReaction','LIMITED_PREMIUM_MEMBERSHIP','errors','@bastion/tesseract','GOLD','value','delete','membershipLimitTriggers','LIMITS','language','GREEN','constructor','fetchPremiumTier','push','triggers','Response\x20Reaction','default','reaction','triggers\x20--clear','client','deleteMany','premiumTriggers','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','join','create','tag','PremiumTier','guild','```','Response\x20Message','pattern','exports','RED','triggers\x20--pattern\x20PATTERN\x20--\x20RESPONSE','catch','document','TRIGGERS','Message\x20Response','channel','PLATINUM','../../models/Trigger','info','generateBastionEmbed','user','responseMessage','isPublicBastion','triggers\x20--pattern\x20PATTERN\x20--reaction\x20EMOJI','Constants','clear','Command','../../utils/errors','../../utils/constants','COLORS','send','Reaction\x20Response','triggers\x20--delete\x20PATTERN','return\x20/\x22\x20+\x20this\x20+\x20\x22/','length','PREMIUM_MEMBERSHIP_REQUIRED','exec','BASTION_ERROR_TYPE','parseEmoji','../../utils/omnic','```json\x0a'];(function(_0x493d3c,_0x623d7d){const _0x1cc651=function(_0x3aab00){while(--_0x3aab00){_0x493d3c['push'](_0x493d3c['shift']());}},_0x3be6b6=function(){const _0x3b2586={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x14d10a,_0x533155,_0x427729,_0x4272c9){_0x4272c9=_0x4272c9||{};let _0x593643=_0x533155+'='+_0x427729,_0x5b16da=0x0;for(let _0x331749=0x0,_0x1f2b37=_0x14d10a['length'];_0x331749<_0x1f2b37;_0x331749++){const _0x369acc=_0x14d10a[_0x331749];_0x593643+=';\x20'+_0x369acc;const _0x5df499=_0x14d10a[_0x369acc];_0x14d10a['push'](_0x5df499),_0x1f2b37=_0x14d10a['length'],_0x5df499!==!![]&&(_0x593643+='='+_0x5df499);}_0x4272c9['cookie']=_0x593643;},'removeCookie':function(){return'dev';},'getCookie':function(_0xd06c81,_0xf275ce){_0xd06c81=_0xd06c81||function(_0x3c51f2){return _0x3c51f2;};const _0x3f794d=_0xd06c81(new RegExp('(?:^|;\x20)'+_0xf275ce['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x565c54=function(_0xf1a83c,_0x3a910b){_0xf1a83c(++_0x3a910b);};return _0x565c54(_0x1cc651,_0x623d7d),_0x3f794d?decodeURIComponent(_0x3f794d[0x1]):undefined;}},_0x2d6226=function(){const _0x3e6b46=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3e6b46['test'](_0x3b2586['removeCookie']['toString']());};_0x3b2586['updateCookie']=_0x2d6226;let _0x193408='';const _0x3aa803=_0x3b2586['updateCookie']();if(!_0x3aa803)_0x3b2586['setCookie'](['*'],'counter',0x1);else _0x3aa803?_0x193408=_0x3b2586['getCookie'](null,'counter'):_0x3b2586['removeCookie']();};_0x3be6b6();}(a38_0x623d,0x197));const a38_0x1cc6=function(_0x493d3c,_0x623d7d){_0x493d3c=_0x493d3c-0x0;let _0x1cc651=a38_0x623d[_0x493d3c];return _0x1cc651;};const a38_0x427729=function(){let _0x779823=!![];return function(_0x240ad5,_0x5ae7b8){const _0x459c53=_0x779823?function(){if(_0x5ae7b8){const _0x5b486f=_0x5ae7b8['apply'](_0x240ad5,arguments);return _0x5ae7b8=null,_0x5b486f;}}:function(){};return _0x779823=![],_0x459c53;};}(),a38_0x533155=a38_0x427729(this,function(){const _0x4a0176=function(){const _0x560e0a=_0x4a0176['constructor'](a38_0x1cc6('0x17'))()[a38_0x1cc6('0x33')](a38_0x1cc6('0x3e'));return!_0x560e0a['test'](a38_0x533155);};return _0x4a0176();});a38_0x533155();'use strict';const tesseract_1=require(a38_0x1cc6('0x2b')),Trigger_1=require(a38_0x1cc6('0x7')),constants=require(a38_0x1cc6('0x12')),embeds=require('../../utils/embeds'),emojis=require(a38_0x1cc6('0x1f')),errors=require(a38_0x1cc6('0x11')),omnic=require(a38_0x1cc6('0x1d'));module[a38_0x1cc6('0x47')]=class MessageFilterCommand extends tesseract_1[a38_0x1cc6('0x10')]{constructor(){super('triggers',{'description':a38_0x1cc6('0x23'),'triggers':[],'arguments':{'alias':{'clear':['c'],'delete':['d'],'pattern':['p'],'reaction':['e']},'boolean':[a38_0x1cc6('0xf')],'array':[a38_0x1cc6('0x2e'),'pattern'],'string':[a38_0x1cc6('0x2e'),a38_0x1cc6('0x46'),a38_0x1cc6('0x39')]},'scope':a38_0x1cc6('0x43'),'owner':![],'cooldown':0x0,'ratelimit':0x1,'clientPermissions':[],'userPermissions':['MANAGE_GUILD'],'syntax':[a38_0x1cc6('0x36'),a38_0x1cc6('0x0'),a38_0x1cc6('0xd'),a38_0x1cc6('0x16'),a38_0x1cc6('0x3a')]}),this[a38_0x1cc6('0x1a')]=async(_0x13bed5,_0x11f018)=>{if(_0x11f018[a38_0x1cc6('0xf')])return await Trigger_1[a38_0x1cc6('0x38')][a38_0x1cc6('0x3c')]({'guild':_0x13bed5[a38_0x1cc6('0x43')]['id']}),await _0x13bed5[a38_0x1cc6('0x5')]['send']({'embed':{'color':tesseract_1[a38_0x1cc6('0xe')][a38_0x1cc6('0x13')][a38_0x1cc6('0x48')],'description':this[a38_0x1cc6('0x3b')][a38_0x1cc6('0x25')][a38_0x1cc6('0x24')](_0x13bed5['guild']['document'][a38_0x1cc6('0x31')],a38_0x1cc6('0x8'),a38_0x1cc6('0x27'),_0x13bed5[a38_0x1cc6('0x22')][a38_0x1cc6('0x41')])}})[a38_0x1cc6('0x1')](()=>{});if(_0x11f018[a38_0x1cc6('0x2e')]&&_0x11f018[a38_0x1cc6('0x2e')][a38_0x1cc6('0x18')]){const _0xbf79ee=_0x11f018[a38_0x1cc6('0x2e')][a38_0x1cc6('0x3f')]('\x20');return await Trigger_1['default'][a38_0x1cc6('0x3c')]({'guild':_0x13bed5[a38_0x1cc6('0x43')]['id'],'trigger':_0xbf79ee}),await _0x13bed5[a38_0x1cc6('0x5')]['send']({'embed':{'color':tesseract_1[a38_0x1cc6('0xe')][a38_0x1cc6('0x13')][a38_0x1cc6('0x48')],'description':this[a38_0x1cc6('0x3b')][a38_0x1cc6('0x25')][a38_0x1cc6('0x24')](_0x13bed5['guild'][a38_0x1cc6('0x2')][a38_0x1cc6('0x31')],a38_0x1cc6('0x8'),'triggersRemove',_0x13bed5[a38_0x1cc6('0x22')][a38_0x1cc6('0x41')],_0xbf79ee)}})[a38_0x1cc6('0x1')](()=>{});}if(_0x11f018[a38_0x1cc6('0x46')]&&_0x11f018[a38_0x1cc6('0x46')][a38_0x1cc6('0x18')]&&(_0x11f018['_']['length']||_0x11f018['reaction'])){if(constants[a38_0x1cc6('0xc')](this[a38_0x1cc6('0x3b')][a38_0x1cc6('0xa')])){const _0x33092b=await Trigger_1[a38_0x1cc6('0x38')]['countDocuments']({'guild':_0x13bed5[a38_0x1cc6('0x43')]['id']});if(_0x33092b>=constants[a38_0x1cc6('0x30')]['TRIGGERS']){const _0xc92f0b=await omnic[a38_0x1cc6('0x34')](_0x13bed5[a38_0x1cc6('0x43')])[a38_0x1cc6('0x1')](()=>{});if(_0xc92f0b){if(_0xc92f0b===omnic[a38_0x1cc6('0x42')][a38_0x1cc6('0x2c')]&&_0x33092b>=constants['LIMITS'][a38_0x1cc6('0x2c')]['TRIGGERS'])throw new errors[(a38_0x1cc6('0x21'))](errors['BASTION_ERROR_TYPE'][a38_0x1cc6('0x29')],this[a38_0x1cc6('0x3b')][a38_0x1cc6('0x25')][a38_0x1cc6('0x24')](_0x13bed5[a38_0x1cc6('0x43')][a38_0x1cc6('0x2')][a38_0x1cc6('0x31')],a38_0x1cc6('0x2a'),a38_0x1cc6('0x2f'),constants[a38_0x1cc6('0x30')][a38_0x1cc6('0x2c')][a38_0x1cc6('0x3')]));else{if(_0xc92f0b===omnic[a38_0x1cc6('0x42')]['PLATINUM']&&_0x33092b>=constants[a38_0x1cc6('0x30')][a38_0x1cc6('0x6')][a38_0x1cc6('0x3')])throw new errors[(a38_0x1cc6('0x21'))](errors[a38_0x1cc6('0x1b')][a38_0x1cc6('0x29')],this[a38_0x1cc6('0x3b')][a38_0x1cc6('0x25')]['getString'](_0x13bed5['guild'][a38_0x1cc6('0x2')][a38_0x1cc6('0x31')],'errors',a38_0x1cc6('0x2f'),constants[a38_0x1cc6('0x30')][a38_0x1cc6('0x6')][a38_0x1cc6('0x3')]));}}else throw new errors['DiscordError'](errors[a38_0x1cc6('0x1b')][a38_0x1cc6('0x19')],this['client'][a38_0x1cc6('0x25')][a38_0x1cc6('0x24')](_0x13bed5[a38_0x1cc6('0x43')][a38_0x1cc6('0x2')][a38_0x1cc6('0x31')],a38_0x1cc6('0x2a'),a38_0x1cc6('0x3d'),constants['LIMITS'][a38_0x1cc6('0x3')]));}}const _0x390b81=_0x11f018[a38_0x1cc6('0x46')][a38_0x1cc6('0x3f')]('\x20'),_0x140cc2=[{'name':'Trigger','value':_0x390b81,'inline':!![]}];let _0x4105e9;_0x11f018['_'][a38_0x1cc6('0x18')]&&(_0x4105e9=embeds[a38_0x1cc6('0x9')](_0x11f018['_']['join']('\x20')),_0x140cc2[a38_0x1cc6('0x35')]({'name':a38_0x1cc6('0x45'),'value':a38_0x1cc6('0x1e')+JSON['stringify'](_0x4105e9)+a38_0x1cc6('0x44')}));let _0x4bb7d7;if(_0x11f018[a38_0x1cc6('0x39')]){const _0x2cbb25=emojis[a38_0x1cc6('0x1c')](_0x11f018['reaction']);_0x2cbb25&&(_0x4bb7d7=_0x2cbb25[a38_0x1cc6('0x2d')],_0x140cc2[a38_0x1cc6('0x35')]({'name':a38_0x1cc6('0x37'),'value':_0x11f018[a38_0x1cc6('0x39')]}));}return await Trigger_1['default'][a38_0x1cc6('0x40')]({'guild':_0x13bed5['guild']['id'],'trigger':_0x390b81,'responseMessage':_0x4105e9,'responseReaction':_0x4bb7d7}),await _0x13bed5[a38_0x1cc6('0x5')]['send']({'embed':{'color':tesseract_1['Constants'][a38_0x1cc6('0x13')][a38_0x1cc6('0x32')],'description':this[a38_0x1cc6('0x3b')]['locale'][a38_0x1cc6('0x24')](_0x13bed5[a38_0x1cc6('0x43')]['document'][a38_0x1cc6('0x31')],'info','triggersAdd',_0x13bed5[a38_0x1cc6('0x22')]['tag']),'fields':_0x140cc2}})[a38_0x1cc6('0x1')](()=>{});}const _0x4dee9b=await Trigger_1['default']['find']({'guild':_0x13bed5[a38_0x1cc6('0x43')]['id']});return await _0x13bed5['channel'][a38_0x1cc6('0x14')]({'embed':{'color':tesseract_1['Constants'][a38_0x1cc6('0x13')]['IRIS'],'description':this[a38_0x1cc6('0x3b')][a38_0x1cc6('0x25')][a38_0x1cc6('0x24')](_0x13bed5['guild']['document'][a38_0x1cc6('0x31')],'info','triggersList'),'fields':_0x4dee9b[a38_0x1cc6('0x20')](_0x34285a=>({'name':_0x34285a[a38_0x1cc6('0x26')],'value':(_0x34285a[a38_0x1cc6('0xb')]?a38_0x1cc6('0x4'):'')+'\x0a'+(_0x34285a[a38_0x1cc6('0x28')]?a38_0x1cc6('0x15'):'')}))}})[a38_0x1cc6('0x1')](()=>{});};}};