const a168_0x216c=['MANAGE_MESSAGES','emoji','remove','permissionsFor','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../utils/emojis','@bastion/tesseract','reactionPinning','fetch','catch','animated','exports','Constants','channel','unpin','roles','default','../models/Role','has','Listener','Removed\x20via\x20Reaction\x20Roles','includes','partial','message','findById','value','apply','constructor','getDocument','guild','../models/ReactionRoleGroup','handleReactionRoles','_id','exec','LISTENER_MODE','handleReactionPinning','name','parseEmoji'];(function(_0x25cb26,_0x216cc7){const _0x12c8be=function(_0xe7845a){while(--_0xe7845a){_0x25cb26['push'](_0x25cb26['shift']());}},_0x5a7c37=function(){const _0x39138b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x55a7cb,_0x592461,_0x1722a8,_0xb2e19d){_0xb2e19d=_0xb2e19d||{};let _0x311e73=_0x592461+'='+_0x1722a8,_0x2d4dd1=0x0;for(let _0x3f37a3=0x0,_0x1186aa=_0x55a7cb['length'];_0x3f37a3<_0x1186aa;_0x3f37a3++){const _0x4df15d=_0x55a7cb[_0x3f37a3];_0x311e73+=';\x20'+_0x4df15d;const _0x50792b=_0x55a7cb[_0x4df15d];_0x55a7cb['push'](_0x50792b),_0x1186aa=_0x55a7cb['length'],_0x50792b!==!![]&&(_0x311e73+='='+_0x50792b);}_0xb2e19d['cookie']=_0x311e73;},'removeCookie':function(){return'dev';},'getCookie':function(_0x27a707,_0x4234fc){_0x27a707=_0x27a707||function(_0x40676c){return _0x40676c;};const _0x236bf=_0x27a707(new RegExp('(?:^|;\x20)'+_0x4234fc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x425cdb=function(_0x2a9afb,_0x4c43c2){_0x2a9afb(++_0x4c43c2);};return _0x425cdb(_0x12c8be,_0x216cc7),_0x236bf?decodeURIComponent(_0x236bf[0x1]):undefined;}},_0x18a5ba=function(){const _0x1a73ac=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1a73ac['test'](_0x39138b['removeCookie']['toString']());};_0x39138b['updateCookie']=_0x18a5ba;let _0x153de7='';const _0x334a40=_0x39138b['updateCookie']();if(!_0x334a40)_0x39138b['setCookie'](['*'],'counter',0x1);else _0x334a40?_0x153de7=_0x39138b['getCookie'](null,'counter'):_0x39138b['removeCookie']();};_0x5a7c37();}(a168_0x216c,0x102));const a168_0x12c8=function(_0x25cb26,_0x216cc7){_0x25cb26=_0x25cb26-0x0;let _0x12c8be=a168_0x216c[_0x25cb26];return _0x12c8be;};const a168_0x1722a8=function(){let _0x56ced3=!![];return function(_0x419d29,_0x1aac79){const _0x71a223=_0x56ced3?function(){if(_0x1aac79){const _0x2eb657=_0x1aac79[a168_0x12c8('0x22')](_0x419d29,arguments);return _0x1aac79=null,_0x2eb657;}}:function(){};return _0x56ced3=![],_0x71a223;};}(),a168_0x592461=a168_0x1722a8(this,function(){const _0x4a2708=function(){const _0x6a5683=_0x4a2708[a168_0x12c8('0x23')](a168_0x12c8('0xc'))()[a168_0x12c8('0x23')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x6a5683['test'](a168_0x592461);};return _0x4a2708();});a168_0x592461();'use strict';const tesseract_1=require(a168_0x12c8('0xe')),ReactionRoleGroup_1=require(a168_0x12c8('0x0')),Role_1=require(a168_0x12c8('0x19')),emojis=require(a168_0x12c8('0xd'));module[a168_0x12c8('0x13')]=class MessageReactionRemoveListener extends tesseract_1[a168_0x12c8('0x1b')]{constructor(){super('messageReactionRemove',{'mode':tesseract_1[a168_0x12c8('0x14')][a168_0x12c8('0x4')]['ON']}),this[a168_0x12c8('0x5')]=async(_0x558dd3,_0x594184)=>{if(!['📌','📍'][a168_0x12c8('0x1d')](_0x558dd3[a168_0x12c8('0x9')][a168_0x12c8('0x6')]))return;if(!_0x558dd3[a168_0x12c8('0x1f')][a168_0x12c8('0x15')][a168_0x12c8('0xb')](_0x594184)[a168_0x12c8('0x1a')](a168_0x12c8('0x8')))return;await _0x558dd3[a168_0x12c8('0x1f')][a168_0x12c8('0x16')]();},this[a168_0x12c8('0x1')]=async(_0xc2b127,_0x3f2692)=>{const _0x371f94=await ReactionRoleGroup_1['default'][a168_0x12c8('0x20')](_0xc2b127[a168_0x12c8('0x1f')]['id']);if(!_0x371f94)return;const _0x433a12=_0xc2b127[a168_0x12c8('0x9')]['id']?'<'+(_0xc2b127[a168_0x12c8('0x9')][a168_0x12c8('0x12')]?'a':'')+':'+_0xc2b127['emoji'][a168_0x12c8('0x6')]+':'+_0xc2b127[a168_0x12c8('0x9')]['id']+'>':_0xc2b127[a168_0x12c8('0x9')][a168_0x12c8('0x6')],_0x3daa94=emojis[a168_0x12c8('0x7')](_0x433a12);if(_0x3daa94){const _0x3ee49e=await Role_1[a168_0x12c8('0x18')]['findOne']({'$or':_0x371f94[a168_0x12c8('0x17')]['map'](_0x146f5a=>({'_id':_0x146f5a})),'guild':_0xc2b127[a168_0x12c8('0x1f')][a168_0x12c8('0x25')]['id'],'emoji':_0x3daa94[a168_0x12c8('0x21')]});if(!_0x3ee49e)return;await _0x3f2692['roles'][a168_0x12c8('0xa')](_0x3ee49e[a168_0x12c8('0x2')],a168_0x12c8('0x1c'));}},this[a168_0x12c8('0x3')]=async(_0x510249,_0x4bb469)=>{_0x510249[a168_0x12c8('0x1e')]&&(_0x510249=await _0x510249['fetch']());_0x510249['message'][a168_0x12c8('0x1e')]&&(_0x510249[a168_0x12c8('0x1f')]=await _0x510249[a168_0x12c8('0x1f')][a168_0x12c8('0x10')]());if(!_0x510249[a168_0x12c8('0x1f')][a168_0x12c8('0x25')])return;const _0x5ecd8a=_0x510249[a168_0x12c8('0x1f')][a168_0x12c8('0x25')]['member'](_0x4bb469);this['handleReactionRoles'](_0x510249,_0x5ecd8a)['catch'](()=>{});const _0x1c4a52=await _0x510249['message']['guild'][a168_0x12c8('0x24')]();_0x1c4a52[a168_0x12c8('0xf')]&&this['handleReactionPinning'](_0x510249,_0x5ecd8a)[a168_0x12c8('0x11')](()=>{});};}};