const a167_0x58c8=['size','embeds','@bastion/tesseract','Auto\x20Removed\x20via\x20Reaction\x20Roles','Accepted','findById','Listener','push','catch','users','get','footer','Suggestion','bot','handleReactionPinning','suggestionsChannelId','default','value','INDIGO','GREEN','startsWith','MANAGE_GUILD','parseEmoji','announcementsChannelId','map','apply','COLORS','edit','return\x20/\x22\x20+\x20this\x20+\x20\x22/','LISTENER_MODE','values','partial','\x20announced\x20via\x20Announcement\x20Pinnning.','filter','emoji','roles','exclusive','has','handleReactionRoles','content','Starboard','test','handleReactionAnnouncement','../models/ReactionRoleGroup','cache','attachments','starboard','starboardChannelId','../utils/memcache','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','channels','_id','height','set','RED','add','reactionPinning','reactionAnnouncements','MANAGE_MESSAGES','guild','constructor','author','MANAGE_CHANNELS','channel','includes','../models/Role','displayAvatarURL','exports','Rejected','title','fetch','Constants','member','permissionsFor','Suggestion\x20','color','reactions','findOne','handleStarboard','message','animated','exec','user','tag','name'];(function(_0x1efd24,_0x58c8fd){const _0x3f217a=function(_0x4daab7){while(--_0x4daab7){_0x1efd24['push'](_0x1efd24['shift']());}},_0x237aed=function(){const _0x424ab8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1e5e68,_0x226684,_0x537690,_0x530875){_0x530875=_0x530875||{};let _0x1cdf21=_0x226684+'='+_0x537690,_0x40b5bb=0x0;for(let _0x3070db=0x0,_0x282e3c=_0x1e5e68['length'];_0x3070db<_0x282e3c;_0x3070db++){const _0x366ea0=_0x1e5e68[_0x3070db];_0x1cdf21+=';\x20'+_0x366ea0;const _0x1e678d=_0x1e5e68[_0x366ea0];_0x1e5e68['push'](_0x1e678d),_0x282e3c=_0x1e5e68['length'],_0x1e678d!==!![]&&(_0x1cdf21+='='+_0x1e678d);}_0x530875['cookie']=_0x1cdf21;},'removeCookie':function(){return'dev';},'getCookie':function(_0x462a3d,_0x43e125){_0x462a3d=_0x462a3d||function(_0x3d8de5){return _0x3d8de5;};const _0x3d946c=_0x462a3d(new RegExp('(?:^|;\x20)'+_0x43e125['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4eb365=function(_0x293f3f,_0x3bf47e){_0x293f3f(++_0x3bf47e);};return _0x4eb365(_0x3f217a,_0x58c8fd),_0x3d946c?decodeURIComponent(_0x3d946c[0x1]):undefined;}},_0x5a922b=function(){const _0x53ab65=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x53ab65['test'](_0x424ab8['removeCookie']['toString']());};_0x424ab8['updateCookie']=_0x5a922b;let _0x48bd0f='';const _0x3f5fea=_0x424ab8['updateCookie']();if(!_0x3f5fea)_0x424ab8['setCookie'](['*'],'counter',0x1);else _0x3f5fea?_0x48bd0f=_0x424ab8['getCookie'](null,'counter'):_0x424ab8['removeCookie']();};_0x237aed();}(a167_0x58c8,0xe6));const a167_0x3f21=function(_0x1efd24,_0x58c8fd){_0x1efd24=_0x1efd24-0x0;let _0x3f217a=a167_0x58c8[_0x1efd24];return _0x3f217a;};const a167_0x537690=function(){let _0xb0135f=!![];return function(_0x55583a,_0x14b85a){const _0x265984=_0xb0135f?function(){if(_0x14b85a){const _0x902278=_0x14b85a[a167_0x3f21('0x32')](_0x55583a,arguments);return _0x14b85a=null,_0x902278;}}:function(){};return _0xb0135f=![],_0x265984;};}(),a167_0x226684=a167_0x537690(this,function(){const _0x2c9813=function(){const _0x2cbea5=_0x2c9813[a167_0x3f21('0x0')](a167_0x3f21('0x35'))()[a167_0x3f21('0x0')](a167_0x3f21('0x4a'));return!_0x2cbea5[a167_0x3f21('0x42')](a167_0x226684);};return _0x2c9813();});a167_0x226684();'use strict';const tesseract_1=require(a167_0x3f21('0x1b')),ReactionRoleGroup_1=require(a167_0x3f21('0x44')),Role_1=require(a167_0x3f21('0x5')),emojis=require('../utils/emojis'),memcache_1=require(a167_0x3f21('0x49'));module[a167_0x3f21('0x7')]=class MessageReactionAddListener extends tesseract_1[a167_0x3f21('0x1f')]{constructor(){super('messageReactionAdd',{'mode':tesseract_1[a167_0x3f21('0xb')][a167_0x3f21('0x36')]['ON']}),this['handleSuggestions']=async(_0x303bf4,_0xfea447)=>{if(_0xfea447['user'][a167_0x3f21('0x26')])return;if(!['‚úÖ','‚ùé'][a167_0x3f21('0x4')](_0x303bf4[a167_0x3f21('0x3b')][a167_0x3f21('0x18')]))return;if(!_0x303bf4[a167_0x3f21('0x13')][a167_0x3f21('0x3')][a167_0x3f21('0xd')](_0xfea447)[a167_0x3f21('0x3e')](a167_0x3f21('0x2')))return;const _0x302b71=_0x303bf4[a167_0x3f21('0x13')],_0x17e5a8=_0x302b71[a167_0x3f21('0x1a')][0x0];if(!_0x17e5a8)return;if(!_0x17e5a8[a167_0x3f21('0x9')][a167_0x3f21('0x2d')](a167_0x3f21('0x25')))return;_0x17e5a8[a167_0x3f21('0xf')]=_0x303bf4[a167_0x3f21('0x3b')][a167_0x3f21('0x18')]==='‚úÖ'?tesseract_1[a167_0x3f21('0xb')][a167_0x3f21('0x33')][a167_0x3f21('0x2c')]:_0x303bf4[a167_0x3f21('0x3b')][a167_0x3f21('0x18')]==='‚ùé'?tesseract_1[a167_0x3f21('0xb')]['COLORS'][a167_0x3f21('0x4f')]:tesseract_1['Constants'][a167_0x3f21('0x33')][a167_0x3f21('0x2b')],_0x17e5a8[a167_0x3f21('0x9')]=a167_0x3f21('0xe')+(_0x303bf4[a167_0x3f21('0x3b')][a167_0x3f21('0x18')]==='‚úÖ'?a167_0x3f21('0x1d'):_0x303bf4[a167_0x3f21('0x3b')][a167_0x3f21('0x18')]==='‚ùé'?a167_0x3f21('0x8'):''),await _0x302b71[a167_0x3f21('0x34')]({'embed':_0x17e5a8});},this[a167_0x3f21('0x12')]=async(_0x1d4d42,_0x42d8b3,_0x55a15c)=>{if(!['üå†','üåü','‚≠ê'][a167_0x3f21('0x4')](_0x1d4d42['emoji'][a167_0x3f21('0x18')]))return;if(_0x42d8b3['roles']['cache'][a167_0x3f21('0x19')]<=0x1)return;if(_0x1d4d42[a167_0x3f21('0x13')][a167_0x3f21('0x1')]['id']===_0x42d8b3[a167_0x3f21('0x16')]['id'])return;const _0x3e79d6=_0x1d4d42[a167_0x3f21('0x13')]['attachments'][a167_0x3f21('0x3a')](_0x547a0f=>Boolean(_0x547a0f[a167_0x3f21('0x4d')]&&_0x547a0f['width'])),_0x14e536=_0x3e79d6['first']();if(!_0x1d4d42[a167_0x3f21('0x13')][a167_0x3f21('0x40')]&&!_0x14e536)return;const _0x5ad0ce=memcache_1[a167_0x3f21('0x29')][a167_0x3f21('0x23')]('starboard');if(_0x5ad0ce&&_0x5ad0ce instanceof Array&&_0x5ad0ce[a167_0x3f21('0x4')](_0x1d4d42[a167_0x3f21('0x13')]['id']))return;await _0x55a15c['send']({'embed':{'color':tesseract_1[a167_0x3f21('0xb')][a167_0x3f21('0x33')]['YELLOW'],'author':{'name':_0x1d4d42[a167_0x3f21('0x13')]['author'][a167_0x3f21('0x17')],'iconURL':_0x1d4d42['message'][a167_0x3f21('0x1')][a167_0x3f21('0x6')]({'dynamic':!![],'size':0x40})},'description':_0x1d4d42['message'][a167_0x3f21('0x40')],'fields':[{'name':'Source','value':'[Click\x20here\x20to\x20Jump\x20to\x20the\x20Message.]('+_0x1d4d42[a167_0x3f21('0x13')]['url']+')','inline':!![]}],'image':{'url':_0x14e536?_0x14e536['url']:null},'footer':{'text':a167_0x3f21('0x41')}}}),_0x5ad0ce&&_0x5ad0ce instanceof Array&&_0x5ad0ce[a167_0x3f21('0x20')](_0x1d4d42['message']['id']),memcache_1[a167_0x3f21('0x29')][a167_0x3f21('0x4e')](a167_0x3f21('0x47'),_0x5ad0ce?_0x5ad0ce:[_0x1d4d42[a167_0x3f21('0x13')]['id']]);},this['handleReactionAnnouncement']=async(_0x217f6a,_0x23428e,_0x2b1d21)=>{if(!['üì£','üì¢'][a167_0x3f21('0x4')](_0x217f6a[a167_0x3f21('0x3b')][a167_0x3f21('0x18')]))return;if(!_0x23428e['permissions'][a167_0x3f21('0x3e')](a167_0x3f21('0x2e')))return;const _0x37ab1a=_0x23428e[a167_0x3f21('0x16')][a167_0x3f21('0x17')]+a167_0x3f21('0x39'),_0x5b1f2d=_0x217f6a[a167_0x3f21('0x13')][a167_0x3f21('0x1a')]&&_0x217f6a[a167_0x3f21('0x13')]['embeds']['length']?_0x217f6a[a167_0x3f21('0x13')][a167_0x3f21('0x1a')][0x0]:{};_0x5b1f2d[a167_0x3f21('0x24')]={..._0x5b1f2d['footer'],'text':_0x5b1f2d[a167_0x3f21('0x24')]&&_0x5b1f2d[a167_0x3f21('0x24')]['text']?_0x37ab1a+'\x20‚Ä¢\x20'+_0x5b1f2d[a167_0x3f21('0x24')]['text']:_0x37ab1a},await _0x2b1d21['send'](_0x217f6a[a167_0x3f21('0x13')][a167_0x3f21('0x40')],{'embed':_0x5b1f2d,'files':[..._0x217f6a[a167_0x3f21('0x13')][a167_0x3f21('0x46')]['values']()]});},this[a167_0x3f21('0x27')]=async(_0x15d015,_0x907295)=>{if(!['üìå','üìç'][a167_0x3f21('0x4')](_0x15d015['emoji'][a167_0x3f21('0x18')]))return;if(!_0x15d015['message'][a167_0x3f21('0x3')][a167_0x3f21('0xd')](_0x907295)['has'](a167_0x3f21('0x53')))return;await _0x15d015[a167_0x3f21('0x13')]['pin']();},this['handleReactionRoles']=async(_0x248250,_0x1fb206)=>{if(_0x1fb206[a167_0x3f21('0x16')][a167_0x3f21('0x26')])return;const _0x1dd6a3=await ReactionRoleGroup_1[a167_0x3f21('0x29')][a167_0x3f21('0x1e')](_0x248250['message']['id']);if(!_0x1dd6a3)return;const _0x115c0a=_0x248250[a167_0x3f21('0x3b')]['id']?'<'+(_0x248250[a167_0x3f21('0x3b')][a167_0x3f21('0x14')]?'a':'')+':'+_0x248250[a167_0x3f21('0x3b')][a167_0x3f21('0x18')]+':'+_0x248250['emoji']['id']+'>':_0x248250['emoji']['name'],_0x32fed4=emojis[a167_0x3f21('0x2f')](_0x115c0a);if(_0x32fed4){const _0x290a2f=await Role_1['default'][a167_0x3f21('0x11')]({'$or':_0x1dd6a3[a167_0x3f21('0x3c')][a167_0x3f21('0x31')](_0x545205=>({'_id':_0x545205})),'guild':_0x248250[a167_0x3f21('0x13')][a167_0x3f21('0x54')]['id'],'emoji':_0x32fed4[a167_0x3f21('0x2a')]});if(!_0x290a2f)return;if(_0x1dd6a3[a167_0x3f21('0x3d')]){for(const _0x30b734 of _0x248250['message'][a167_0x3f21('0x10')][a167_0x3f21('0x45')][a167_0x3f21('0x3a')](_0x1019e3=>_0x1019e3[a167_0x3f21('0x22')][a167_0x3f21('0x45')][a167_0x3f21('0x3e')](_0x1fb206[a167_0x3f21('0x16')]['id'])&&_0x1019e3[a167_0x3f21('0x3b')]['name']!==_0x248250[a167_0x3f21('0x3b')][a167_0x3f21('0x18')])[a167_0x3f21('0x37')]()){await _0x30b734[a167_0x3f21('0x22')]['remove'](_0x1fb206)[a167_0x3f21('0x21')](()=>{});}await _0x1fb206[a167_0x3f21('0x3c')]['remove'](_0x1dd6a3[a167_0x3f21('0x3c')],a167_0x3f21('0x1c'));}await _0x1fb206[a167_0x3f21('0x3c')][a167_0x3f21('0x50')](_0x290a2f[a167_0x3f21('0x4c')],'Added\x20via\x20Reaction\x20Roles');}},this[a167_0x3f21('0x15')]=async(_0x3e4441,_0x2375a2)=>{_0x3e4441[a167_0x3f21('0x38')]&&(_0x3e4441=await _0x3e4441['fetch']());_0x3e4441[a167_0x3f21('0x13')][a167_0x3f21('0x38')]&&(_0x3e4441[a167_0x3f21('0x13')]=await _0x3e4441['message'][a167_0x3f21('0xa')]());if(!_0x3e4441[a167_0x3f21('0x13')][a167_0x3f21('0x54')])return;const _0x521944=_0x3e4441[a167_0x3f21('0x13')]['guild'][a167_0x3f21('0xc')](_0x2375a2);this[a167_0x3f21('0x3f')](_0x3e4441,_0x521944)[a167_0x3f21('0x21')](()=>{});const _0x153793=await _0x3e4441[a167_0x3f21('0x13')][a167_0x3f21('0x54')]['getDocument']();_0x153793['suggestionsChannelId']&&_0x3e4441[a167_0x3f21('0x13')][a167_0x3f21('0x3')]['id']===_0x153793[a167_0x3f21('0x28')]&&this['handleSuggestions'](_0x3e4441,_0x521944)[a167_0x3f21('0x21')](()=>{}),_0x153793[a167_0x3f21('0x48')]&&_0x3e4441[a167_0x3f21('0x13')][a167_0x3f21('0x54')]['channels'][a167_0x3f21('0x45')][a167_0x3f21('0x3e')](_0x153793[a167_0x3f21('0x48')])&&this['handleStarboard'](_0x3e4441,_0x521944,_0x3e4441['message'][a167_0x3f21('0x54')]['channels']['cache'][a167_0x3f21('0x23')](_0x153793[a167_0x3f21('0x48')]))[a167_0x3f21('0x21')](()=>{}),_0x153793[a167_0x3f21('0x52')]&&_0x3e4441['message'][a167_0x3f21('0x54')][a167_0x3f21('0x4b')]['cache'][a167_0x3f21('0x3e')](_0x153793[a167_0x3f21('0x30')])&&this[a167_0x3f21('0x43')](_0x3e4441,_0x521944,_0x3e4441['message'][a167_0x3f21('0x54')]['channels']['cache'][a167_0x3f21('0x23')](_0x153793['announcementsChannelId']))['catch'](()=>{}),_0x153793[a167_0x3f21('0x51')]&&this[a167_0x3f21('0x27')](_0x3e4441,_0x521944)['catch'](()=>{});};}};