const a199_0x2b90=['language','event','Case\x20#','default','Guild','fields','NewsChannel','music','ORANGE','timestamp','serverLogChannelId','moderationLogChannelId','type','locale','cache','SOMEWHAT_DARK','client','text','constructor','getDocument','save','get','return\x20/\x22\x20+\x20this\x20+\x20\x22/','test','TextChannel','getString','Constants','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','discord.js','../models/Guild','filter','moderationCaseCount','createModerationLog','footer','create','findById'];(function(_0x4a8950,_0x2b90a2){const _0x40db26=function(_0x340486){while(--_0x340486){_0x4a8950['push'](_0x4a8950['shift']());}},_0x5ece32=function(){const _0x17232b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xfe35c0,_0x36afa1,_0x528046,_0x2ddacd){_0x2ddacd=_0x2ddacd||{};let _0x4be460=_0x36afa1+'='+_0x528046,_0x33e3e5=0x0;for(let _0x3b60d0=0x0,_0x35feae=_0xfe35c0['length'];_0x3b60d0<_0x35feae;_0x3b60d0++){const _0x25b088=_0xfe35c0[_0x3b60d0];_0x4be460+=';\x20'+_0x25b088;const _0x1464cf=_0xfe35c0[_0x25b088];_0xfe35c0['push'](_0x1464cf),_0x35feae=_0xfe35c0['length'],_0x1464cf!==!![]&&(_0x4be460+='='+_0x1464cf);}_0x2ddacd['cookie']=_0x4be460;},'removeCookie':function(){return'dev';},'getCookie':function(_0x523687,_0x325cc2){_0x523687=_0x523687||function(_0x56f917){return _0x56f917;};const _0x32411d=_0x523687(new RegExp('(?:^|;\x20)'+_0x325cc2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x55a9b3=function(_0x1f27e4,_0x3e6743){_0x1f27e4(++_0x3e6743);};return _0x55a9b3(_0x40db26,_0x2b90a2),_0x32411d?decodeURIComponent(_0x32411d[0x1]):undefined;}},_0x127bd3=function(){const _0x1ae389=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1ae389['test'](_0x17232b['removeCookie']['toString']());};_0x17232b['updateCookie']=_0x127bd3;let _0x127dfa='';const _0x26fd8c=_0x17232b['updateCookie']();if(!_0x26fd8c)_0x17232b['setCookie'](['*'],'counter',0x1);else _0x26fd8c?_0x127dfa=_0x17232b['getCookie'](null,'counter'):_0x17232b['removeCookie']();};_0x5ece32();}(a199_0x2b90,0x19d));const a199_0x40db=function(_0x4a8950,_0x2b90a2){_0x4a8950=_0x4a8950-0x0;let _0x40db26=a199_0x2b90[_0x4a8950];return _0x40db26;};const a199_0x528046=function(){let _0x4e6e8c=!![];return function(_0x492ad2,_0x3e2fb7){const _0x50a2ec=_0x4e6e8c?function(){if(_0x3e2fb7){const _0x9b7138=_0x3e2fb7['apply'](_0x492ad2,arguments);return _0x3e2fb7=null,_0x9b7138;}}:function(){};return _0x4e6e8c=![],_0x50a2ec;};}(),a199_0x36afa1=a199_0x528046(this,function(){const _0x7db4c7=function(){const _0x564d14=_0x7db4c7[a199_0x40db('0x1')](a199_0x40db('0x5'))()[a199_0x40db('0x1')](a199_0x40db('0xa'));return!_0x564d14[a199_0x40db('0x6')](a199_0x36afa1);};return _0x7db4c7();});a199_0x36afa1();'use strict';const tesseract_1=require('@bastion/tesseract'),discord_js_1=require(a199_0x40db('0xb')),Guild_1=require(a199_0x40db('0xc')),Case_1=require('../models/Case');module['exports']=class BastionGuild extends discord_js_1[a199_0x40db('0x17')]{constructor(_0x637b7b,_0x21c917){super(_0x637b7b,_0x21c917),this[a199_0x40db('0x1a')]={'queue':[],'history':[],'playing':![],'repeat':![],'skipVotes':[]};}async[a199_0x40db('0x2')](){return await Guild_1[a199_0x40db('0x16')][a199_0x40db('0x12')](this['id']);}async['createLog'](_0x64cc16){const _0xe86286=await this[a199_0x40db('0x2')](),_0x119c6c=this[a199_0x40db('0x23')]['channels'][a199_0x40db('0x21')][a199_0x40db('0xd')](_0x18b803=>_0x18b803[a199_0x40db('0x1f')]===a199_0x40db('0x0')||_0x18b803[a199_0x40db('0x1f')]==='news');if(_0xe86286[a199_0x40db('0x1d')]&&_0x119c6c['has'](_0xe86286['serverLogChannelId'])){const _0x17fbcc=_0x119c6c[a199_0x40db('0x4')](_0xe86286[a199_0x40db('0x1d')]);if(_0x17fbcc instanceof discord_js_1[a199_0x40db('0x19')]||_0x17fbcc instanceof discord_js_1[a199_0x40db('0x7')])return _0x17fbcc['send']({'embed':{'color':tesseract_1[a199_0x40db('0x9')]['COLORS'][a199_0x40db('0x22')],'title':this[a199_0x40db('0x23')][a199_0x40db('0x20')]['getString'](_0xe86286['language'],'events',_0x64cc16['event']),'fields':_0x64cc16[a199_0x40db('0x18')],'footer':{'text':_0x64cc16[a199_0x40db('0x10')]},'timestamp':_0x64cc16[a199_0x40db('0x1c')]||new Date()}});}}async[a199_0x40db('0xf')](_0x1a0c9f){const _0x5d9278=await this[a199_0x40db('0x2')](),_0xb8fa01=this['client']['channels'][a199_0x40db('0x21')][a199_0x40db('0xd')](_0x119dfd=>_0x119dfd[a199_0x40db('0x1f')]==='text'||_0x119dfd[a199_0x40db('0x1f')]==='news');if(_0x5d9278[a199_0x40db('0x1e')]&&_0xb8fa01['has'](_0x5d9278[a199_0x40db('0x1e')])){const _0x571214=_0xb8fa01['get'](_0x5d9278[a199_0x40db('0x1e')]);if(_0x571214 instanceof discord_js_1['NewsChannel']||_0x571214 instanceof discord_js_1['TextChannel']){_0x5d9278[a199_0x40db('0xe')]=_0x5d9278[a199_0x40db('0xe')]?_0x5d9278[a199_0x40db('0xe')]+0x1:0x1;const _0x12d58c=await _0x571214['send']({'embed':{'color':tesseract_1[a199_0x40db('0x9')]['COLORS'][a199_0x40db('0x1b')],'title':this['client'][a199_0x40db('0x20')][a199_0x40db('0x8')](_0x5d9278[a199_0x40db('0x13')],'events',_0x1a0c9f[a199_0x40db('0x14')]),'fields':_0x1a0c9f[a199_0x40db('0x18')],'footer':{'text':a199_0x40db('0x15')+_0x5d9278[a199_0x40db('0xe')]},'timestamp':new Date()}});await Case_1[a199_0x40db('0x16')][a199_0x40db('0x11')]({'guild':this['id'],'number':_0x5d9278[a199_0x40db('0xe')],'messageId':_0x12d58c['id']}),await _0x5d9278[a199_0x40db('0x3')]();}}}};